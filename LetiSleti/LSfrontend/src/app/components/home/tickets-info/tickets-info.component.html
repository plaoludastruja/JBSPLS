<app-homepage-menu></app-homepage-menu>
<div>
  <h2>
    <b
      >Generate API KEY for your Skitnica account so you can buy tickets
      directly from it</b
    >
  </h2>
  <div class="form-outline">
    <input
      type="text"
      id="form3Example1"
      class="form-control"
      [(ngModel)]="email"
    />
    <label class="form-label" for="form3Example1">Email</label>
  </div>
  <div>
    <mat-checkbox (change)="onCheckBoxChange($event)">Durable?</mat-checkbox>
  </div>
  <button
    type="submit"
    class="btn btn-primary btn-block"
    (click)="generateApiKey()"
  >
    Generate API KEY
  </button>
  <table mat-table [dataSource]="tickets" class="mat-elevation-z8 mt-3">
    <ng-container matColumnDef="from">
      <th mat-header-cell *matHeaderCellDef>From</th>
      <td mat-cell *matCellDef="let element">{{ element.startPlace }}</td>
    </ng-container>

    <ng-container matColumnDef="to">
      <th mat-header-cell *matHeaderCellDef>To</th>
      <td mat-cell *matCellDef="let element">{{ element.endPlace }}</td>
    </ng-container>

    <ng-container matColumnDef="depart">
      <th mat-header-cell *matHeaderCellDef>Depart</th>
      <td mat-cell *matCellDef="let element">{{ splitDate(element.start) }}</td>
    </ng-container>

    <ng-container matColumnDef="return">
      <th mat-header-cell *matHeaderCellDef>Return</th>
      <td mat-cell *matCellDef="let element">{{ splitDate(element.end) }}</td>
    </ng-container>

    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef>Price per place</th>
      <td mat-cell *matCellDef="let element">{{ element.price }}</td>
    </ng-container>

    <ng-container matColumnDef="count">
      <th mat-header-cell *matHeaderCellDef>Count</th>
      <td mat-cell *matCellDef="let element">{{ element.count }}</td>
    </ng-container>

    <ng-container matColumnDef="total">
      <th mat-header-cell *matHeaderCellDef>Total price</th>
      <td mat-cell *matCellDef="let element">
        {{ element.price * element.count }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>
